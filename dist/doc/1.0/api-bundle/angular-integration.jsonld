{"@context":"http://schema.org","@type":"CreativeWork","name":"AngularJS integration","text":"\u003ch1\u003eAngularJS integration\u003c/h1\u003e\n\n\u003ch2\u003eRestangular\u003c/h2\u003e\n\n\u003cp\u003eDunglasApiBundle works fine with \u003ca href=\"http://angularjs.org\"\u003eAngularJS\u003c/a\u003e. The popular \u003ca href=\"https://github.com/mgonto/restangular\"\u003eRestangular\u003c/a\u003e\nREST client library for Angular can easily be configured to handle the API format.\u003c/p\u003e\n\n\u003cp\u003eHere is a working Restangular config:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e\u0026#39;use strict\u0026#39;;\n\nvar app = angular\n    .module(\u0026#39;myAngularjsApp\u0026#39;)\n    .config([\u0026#39;RestangularProvider\u0026#39;, function (RestangularProvider) {\n        // The URL of the API endpoint\n        RestangularProvider.setBaseUrl(\u0026#39;http://localhost:8000\u0026#39;);\n\n        // JSON-LD @id support\n        RestangularProvider.setRestangularFields({\n            id: \u0026#39;@id\u0026#39;\n        });\n        RestangularProvider.setSelfLinkAbsoluteUrl(false);\n\n        // Hydra collections support\n        RestangularProvider.addResponseInterceptor(function (data, operation) {\n            // Remove trailing slash to make Restangular working\n            function populateHref(data) {\n                if (data[\u0026#39;@id\u0026#39;]) {\n                    data.href = data[\u0026#39;@id\u0026#39;].substring(1);\n                }\n            }\n\n            // Populate href property for the collection\n            populateHref(data);\n\n            if (\u0026#39;getList\u0026#39; === operation) {\n                var collectionResponse = data[\u0026#39;hydra:member\u0026#39;];\n                collectionResponse.metadata = {};\n\n                // Put metadata in a property of the collection\n                angular.forEach(data, function (value, key) {\n                    if (\u0026#39;hydra:member\u0026#39; !== key) {\n                        collectionResponse.metadata[key] = value;\n                    }\n                });\n\n                // Populate href property for all elements of the collection\n                angular.forEach(collectionResponse, function (value) {\n                    populateHref(value);\n                });\n\n                return collectionResponse;\n            }\n\n            return data;\n        });\n    }])\n;\n\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch2\u003eng-admin\u003c/h2\u003e\n\n\u003cp\u003eIf you want to use \u003ca href=\"https://github.com/marmelab/ng-admin\"\u003eng-admin\u003c/a\u003e, set the \u003ca href=\"#restangular\"\u003eRestangular\u003c/a\u003e config,\nthen create your entities like in the following example :\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003evar nga = NgAdminConfigurationProvider;\n\nvar admin = nga.application(\u0026#39;My First Admin\u0026#39;)\n               .baseApiUrl(\u0026#39;http://localhost:8000\u0026#39;);\n\nvar article = nga.entity(\u0026#39;articles\u0026#39;);\narticle.identifier(nga.field(\u0026#39;@id\u0026#39;));\narticle.url(function(entityName, viewType, identifierValue) {\n       var url = \u0026#39;/\u0026#39; + entityName;\n\n       if(viewType === \u0026#39;ListView\u0026#39; || viewType === \u0026#39;CreateView\u0026#39;) {\n            return url;\n       }\n\n       return identifierValue ? decodeURIComponent(identifierValue) : url;\n});\n\narticle.listView().fields([\n    nga.field(\u0026#39;title\u0026#39;),\n    nga.field(\u0026#39;content\u0026#39;)\n]);\n\nadmin.addEntity(article);\nnga.configure(admin)\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003ePrevious chapter: \u003ca href=\"performances.jsonld\"\u003ePerformances\u003c/a\u003e\u003c/p\u003e\n","author":[{"@type":"Person","Name":"KÃ©vin Dunglas","email":"dunglas@gmail.com"},{"@type":"Person","Name":"mRoca","email":"mroca.dh@gmail.com"},{"@type":"Person","Name":"Kevin Saliou","email":"kevin@saliou.name"}],"dateCreated":"2015-09-04T11:55:15+02:00","dateModified":"2016-05-21T17:49:17+02:00"}